<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Lab 7-5 Weighted Marks</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    label { display: inline-block; width: 120px; }
    .row { margin-bottom: 10px; }
    #result { font-weight: bold; }
    meter { width: 300px; height: 20px; }
  </style>
  <script>
    function calculateWeighted() {
      // Get values safely (default to 0 if empty)
      let w1 = parseInt(document.getElementById("weight1").value) || 0;
      let m1 = parseInt(document.getElementById("mark1").value) || 0;

      let w2 = parseInt(document.getElementById("weight2").value) || 0;
      let m2 = parseInt(document.getElementById("mark2").value) || 0;

      let w3 = parseInt(document.getElementById("weight3").value) || 0;
      let m3 = parseInt(document.getElementById("mark3").value) || 0;

      // Check for duplicate weights
      let weights = [w1, w2, w3];
      if (new Set(weights).size < weights.length) {
        document.getElementById("result").innerText = "Error: Weightings must be different!";
        document.getElementById("meter").value = 0;
        return;
      }

      // Weighted average
      let totalWeight = w1 + w2 + w3;
      if (totalWeight === 0) return;

      let weightedMarks = ((w1 * m1) + (w2 * m2) + (w3 * m3)) / totalWeight;

      // Update result
      document.getElementById("result").innerText = "Weighted Marks = " + weightedMarks.toFixed(2);

      // Update meter
      document.getElementById("meter").value = weightedMarks;
    }
  </script>
</head>
<body>
  <h2>Lab 7-5: Weighted Module Marks</h2>

  <div class="row">
    <label for="weight1">Assignment :</label>
    <select id="weight1" onchange="calculateWeighted()">
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="5">5</option>
    </select>
    <input type="number" id="mark1" value="70" min="0" max="100" oninput="calculateWeighted()">
  </div>

  <div class="row">
    <label for="weight2">Test :</label>
    <select id="weight2" onchange="calculateWeighted()">
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="5">5</option>
    </select>
    <input type="number" id="mark2" value="60" min="0" max="100" oninput="calculateWeighted()">
  </div>

  <div class="row">
    <label for="weight3">Exam :</label>
    <select id="weight3" onchange="calculateWeighted()">
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="5">5</option>
    </select>
    <input type="number" id="mark3" value="86" min="0" max="100" oninput="calculateWeighted()">
  </div>

  <div class="row" style="display:flex; align-items:center; gap:15px;">
    <span id="result">Weighted Marks = 0</span>
    <meter id="meter" value="0" min="0" max="100" low="40" high="75" optimum="65"></meter>
  </div>

  <script>
    // Run once on load
    calculateWeighted();
  </script>
</body>
</html>
